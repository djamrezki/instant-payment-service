spring:
  datasource:
    url: jdbc:postgresql://localhost/test   # overridden by Testcontainers
    username: test
    password: test
  kafka:
    # Overridden by Testcontainers at runtime
    bootstrap-servers: localhost:9092

    # Producer-specific settings (no hangs on metadata/requests)
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.ByteArraySerializer
      acks: all
      properties:
        max.block.ms: 5000
        request.timeout.ms: 5000
        delivery.timeout.ms: 8000

    # (Optional) Common client props (apply to producer & consumer)
    properties:
      metadata.max.age.ms: 3000   # refresh metadata more frequently during tests

    # (Optional) Consumer test tweaks
    consumer:
      enable-auto-commit: true
      auto-offset-reset: earliest
      properties:
        fetch.max.wait.ms: 1000

  jpa:
    hibernate:
      ddl-auto: create-drop
